{"ast":null,"code":"import { TrackByFunction } from '@angular/core';\nimport { MoviesStore } from '../../data-access';\nimport { listAnimation, fadeAnimation } from '../movie-card';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../data-access\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../movie-card/movie-card.component\";\nimport * as i4 from \"../header/header.component\";\nfunction AppComponent_div_0_movie_card_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"movie-card\", 5);\n  }\n  if (rf & 2) {\n    const it_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"movie\", it_r3);\n  }\n}\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"header-bar\", 2);\n    i0.ɵɵlistener(\"onLoad\", function AppComponent_div_0_Template_header_bar_onLoad_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const vm_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(vm_r1.loadMovies($event));\n    })(\"onFilter\", function AppComponent_div_0_Template_header_bar_onFilter_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const vm_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(vm_r1.updateFilter($event));\n    })(\"onClear\", function AppComponent_div_0_Template_header_bar_onClear_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const vm_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(vm_r1.clearFilter());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵtemplate(3, AppComponent_div_0_movie_card_3_Template, 1, 1, \"movie-card\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const vm_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"searchFor\", vm_r1.searchBy)(\"filterBy\", vm_r1.filterBy);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"@listAnimation\", vm_r1.filteredMovies.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", vm_r1.filteredMovies)(\"ngForTrackBy\", ctx_r0.trackByKey);\n  }\n}\nconst findMovieId = (i, m) => m.poster_path;\nexport class AppComponent {\n  constructor(facade) {\n    this.facade = facade;\n    this.trackByKey = findMovieId;\n    this.vm$ = this.facade.vm$;\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.MoviesStore));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"my-app\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"relative p-3 grid place-items-top min-h-screen justify-items-center w-full\", 4, \"ngIf\"], [1, \"relative\", \"p-3\", \"grid\", \"place-items-top\", \"min-h-screen\", \"justify-items-center\", \"w-full\"], [3, \"searchFor\", \"filterBy\", \"onLoad\", \"onFilter\", \"onClear\"], [1, \"pt-4\", \"max-w-8xl\", \"grid\", \"gap-4\", \"grid-cols-6\", \"sm:grid-cols-4\"], [3, \"movie\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"movie\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AppComponent_div_0_Template, 4, 5, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.vm$));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.MovieCard, i4.HeaderBar, i2.AsyncPipe],\n  encapsulation: 2,\n  data: {\n    animation: [fadeAnimation, listAnimation]\n  }\n});","map":{"version":3,"mappings":"AACA,SAAoBA,eAAe,QAAQ,eAAe;AAE1D,SAAoCC,WAAW,QAAQ,mBAAmB;AAC1E,SAASC,aAAa,EAAEC,aAAa,QAAQ,eAAe;;;;;;;;ICYxDC,gCAGc;;;;IADZA,6BAAY;;;;;;IAlBlBA,8BAGC;IAIGA;MAAA;MAAA;MAAA,OAAUA,uCAAqB;IAAA,EAAC;MAAA;MAAA;MAAA,OACpBA,yCAAuB;IAAA,EADH;MAAA;MAAA;MAAA,OAErBA,kCAAgB;IAAA,EAFK;IAGjCA,iBAAa;IAEdA,8BAGC;IACCA,iFAGc;IAChBA,iBAAM;;;;;IAfJA,eAAyB;IAAzBA,0CAAyB;IASzBA,eAA2C;IAA3CA,4DAA2C;IAG1BA,eAAsB;IAAtBA,8CAAsB;;;ADX3C,MAAMC,WAAW,GAA+B,CAACC,CAAS,EAAEC,CAAY,KACtEA,CAAC,CAACC,WAAW;AAOf,OAAM,MAAOC,YAAY;EAIvBC,YAAoBC,MAAmB;IAAnB,WAAM,GAANA,MAAM;IAH1B,eAAU,GAAGN,WAAW;IACxB,QAAG,GAA+B,IAAI,CAACM,MAAM,CAACC,GAAG;EAEP;;AAJ/BH,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAI;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdzBb,6DAqBM;;;;MApBHA,oDAAkB;;;;;;eDWP,CAACD,aAAa,EAAED,aAAa;EAAC;AAAA","names":["TrackByFunction","MoviesStore","listAnimation","fadeAnimation","i0","findMovieId","i","m","poster_path","AppComponent","constructor","facade","vm$","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/project/zustand-angular-movie-search/src/app/components/app/app.component.ts","/project/zustand-angular-movie-search/src/app/components/app/app.component.html"],"sourcesContent":["import { Observable } from 'rxjs';\nimport { Component, TrackByFunction } from '@angular/core';\n\nimport { MovieItem, MovieViewModel, MoviesStore } from '../../data-access';\nimport { listAnimation, fadeAnimation } from '../movie-card';\n\nconst findMovieId: TrackByFunction<MovieItem> = (i: number, m: MovieItem) =>\n  m.poster_path;\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  animations: [fadeAnimation, listAnimation],\n})\nexport class AppComponent {\n  trackByKey = findMovieId;\n  vm$: Observable<MovieViewModel> = this.facade.vm$;\n\n  constructor(private facade: MoviesStore) {}\n}\n","<div\n  *ngIf=\"vm$ | async as vm\"\n  class=\"relative p-3 grid place-items-top min-h-screen justify-items-center w-full\"\n>\n  <header-bar\n    [searchFor]=\"vm.searchBy\"\n    [filterBy]=\"vm.filterBy\"\n    (onLoad)=\"vm.loadMovies($event)\"\n    (onFilter)=\"vm.updateFilter($event)\"\n    (onClear)=\"vm.clearFilter()\"\n  ></header-bar>\n\n  <div\n    class=\"pt-4 max-w-8xl grid gap-4 grid-cols-6 sm:grid-cols-4\"\n    [@listAnimation]=\"vm.filteredMovies.length\"\n  >\n    <movie-card\n      *ngFor=\"let it of vm.filteredMovies; trackBy: trackByKey\"\n      [movie]=\"it\"\n    ></movie-card>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}